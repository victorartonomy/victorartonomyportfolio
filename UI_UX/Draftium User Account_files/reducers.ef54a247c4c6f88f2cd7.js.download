(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{1270:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchOrgFulfilledAction=t.fetchOrgAction=t.FETCH_ORGANIZATION=void 0;var a=r(446),n=t.FETCH_ORGANIZATION="FETCH_ORGANIZATION";t.fetchOrgAction=function(e){return{type:n,payload:e}},t.fetchOrgFulfilledAction=function(e){return{type:(0,a.withFulfilledType)(n),payload:e}}},2782:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},n=r(514),u=r(722),i=r(148),o=r(6659),l=c(r(459)),d=c(r(1197));function c(e){return e&&e.__esModule?e:{default:e}}var f=(0,n.combineReducers)(a({},o.reducers,{blocks:l.default,ui:d.default,router:(0,u.connectRouter)((0,i.getHistory)())}));t.default=f},6659:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reducers=void 0;var a=v(r(2272)),n=v(r(6660)),u=v(r(6661)),i=v(r(6662)),o=v(r(6663)),l=v(r(6664)),d=v(r(6665)),c=v(r(6666)),f=v(r(6667)),p=v(r(6668)),s=v(r(6669)),E=v(r(6670)),y=v(r(6671)),T=v(r(6672));function v(e){return e&&e.__esModule?e:{default:e}}t.reducers={auth:i.default,blockTemplates:o.default,popupTemplates:u.default,modals:l.default,pages:d.default,popups:n.default,uiKit:c.default,views:f.default,website:p.default,organization:T.default,themes:s.default,builderType:E.default,comments:y.default,ecommerce:a.default}},6660:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.popupsReducer=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},n=r(558),u=r(966),i=r(446);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=t.popupsReducer=(0,n.createReducer)({},[[[u.FETCH_POPUP],function(e,t){return a({},e,o({},t.payload,{loading:!0,loaded:!1}))}],[[(0,i.withFulfilledType)(u.FETCH_POPUP)],function(e,t){return a({},e,o({},t.payload.id,{loading:!1,loaded:!0}))}],[[(0,i.withFulfilledType)(u.CLOSE_POPUP_EDITOR)],function(t,r){return e.mapValues(e.always({loading:!1,loaded:!1}),t)}]]);t.default=l}).call(this,r(380))},6661:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.popupTemplatesReducer=void 0;var a=r(558),n=r(446),u=r(1512),i=t.popupTemplatesReducer=(0,a.createReducer)({},[[[(0,n.withFulfilledType)(u.FETCH_POPUP_TEMPLATES)],function(e,t){return t.payload.popupTemplates}]]);t.default=i},6662:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.authReducer=void 0;var a=r(558),n=r(1237),u=t.authReducer=(0,a.createReducer)(null,[[[n.LOGIN],function(e,t){return t.payload}],[[n.LOGOUT],function(){return null}]]);t.default=u},6663:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.blockTemplatesReducer=void 0;var a=r(558),n=r(446),u=r(1624),i=t.blockTemplatesReducer=(0,a.createReducer)({},[[[(0,n.withFulfilledType)(u.FETCH_BLOCK_TEMPLATES)],function(e,t){return t.payload.blockTemplates}]]);t.default=i},6664:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.modalsReducer=void 0;var a=r(558),n=r(446),u=r(611),i=r(613),o=[],l=t.modalsReducer=(0,a.createReducer)(o,[[[u.OPEN_MODAL],function(t,r){var a=r.payload,n=a.id,u=a.instanceId,i=a.props,o=a.name,l=a.hash;return t.some(e.propEq("id",n))?t:t.concat({id:n,instanceId:u,props:i,name:o,hash:l})}],[[u.REFRESH_MODAL],function(t,r){var a=r.payload,n=a.instanceId,u=a.props,i=t.findIndex(e.propEq("instanceId",n));return i>=0?e.set(i+".props",u,t):t}],[[u.CLOSE_MODAL],function(t,r){var a=r.payload.id,n=t.findIndex(e.propEq("id",a));return n>=0?e.pullAt([n],t):t}],[[u.CLOSE_CURRENT_MODAL],function(e){return e.length?e.slice(0,-1):e}],[[(0,n.withFulfilledType)(u.CLOSE_ALL_MODALS)],function(){return o}],[[i.EXTERNAL_BLOCK_UPDATE,i.EXTERNAL_BLOCK_REMOVE],function(e,t){var r=t.payload.id;return e.filter(function(e){var t=e.props;return(t=void 0===t?{}:t).blockId!==r})}]]);t.default=l}).call(this,r(380))},6665:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.pagesReducer=t.pageReducer=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},n=r(558),u=r(446),i=r(494),o=r(1239),l=r(613);function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c=t.pageReducer=(0,n.createReducer)({metadata:{}},[[[(0,u.withFulfilledType)(i.CHANGE_PAGE_METADATA)],function(e,t){var r=t.payload.metadata;return a({},e,{metadata:a({},e.metadata,r)})}],[[i.READY_PAGE],function(e){return a({},e,{ready:!0})}],[[(0,u.withFulfilledType)(i.CHANGE_PAGE_ORDER)],function(e,t){return a({},e,{metadata:t.payload.metadata,sortOrder:t.payload.sortOrder})}],[[l.EXTERNAL_PAGE_UPDATE],function(e,t){var r=t.payload.page;return a({},e,r)}]]),f=t.pagesReducer=(0,n.createReducer)({},[[[(0,u.withFulfilledType)(i.FETCH_PAGES)],function(e,t){var r=t.payload.pages;return a({},e,r)}],[[(0,u.withFulfilledType)(i.CREATE_PAGE)],function(e,t){var r=t.payload,n=r.pageId,u=r.data;return a({},e,d({},n,u))}],[[(0,u.withFulfilledType)(i.REMOVE_PAGE)],function(t,r){var n=r.payload,u=n.pageIds,i=n.removeSubpages,o=n.pagesWithRemovedParent,l=e.omit(u,t);if(i)return l;var d=e.pipe(e.omitBy(function(t){return!e.find({slug:t.slug},o)}),e.mapValues(function(t){var r=e.find({slug:t.slug},o);return a({},t,{sortOrder:r.sortOrder,metadata:a({},t.metadata,{parentId:null})})}))(t);return a({},l,d)}],[[(0,u.withFulfilledType)(i.CHANGE_PAGE_METADATA)],function(e,t){var r=t.payload,n=r.pageId,u=r.metadata,i={};for(var o in e){var l=e[o];if(n===o)i[o]=c(l,t);else{var d=a({},l.metadata);u.homepage&&Object.assign(d,{homepage:!1});var f=a({},t.payload,{metadata:d});i[o]=c(l,a({},t,{payload:f}))}}return i}],[[(0,u.withFulfilledType)(i.CHANGE_PAGES_METADATA_PROP)],function(e,t){for(var r=t.payload,n=r.metadata,u={},i=r.pages||Object.keys(e),o=0;o<i.length;o+=1){var l=i[o],d=e[l];d&&(u[l]=a({},d,{metadata:a({},d.metadata,n)}))}return a({},e,u)}],[[i.UNREADY_PAGE],function(e){return{}}],[[i.READY_PAGE],function(t,r){var n=r.payload.pageId;return a({},e.mapValues(function(e){return a({},e,{ready:!1})})(t),d({},n,a({},t[n],{ready:!0})))}],[[o.FETCH_VIEW],function(e,t){var r=t.payload.pageId;return a({},e,d({},r,a({},e[r],{ready:!1})))}],[[(0,u.withFulfilledType)(i.CHANGE_PAGE_ORDER)],function(e,t){var r=t.payload.changedPage,n=a({},e);return n[r.id]=c(e[r.id],a({},t,{payload:{sortOrder:r.sortOrder,metadata:r.metadata}})),n}],[[l.EXTERNAL_PAGE_UPDATE],function(e,t){var r=t.payload.id,n=c(e[r],t);return a({},e,d({},r,n))}],[[l.EXTERNAL_PAGE_REMOVE],function(t,r){var a=r.payload.id;return e.omit(a)(t)}]]);t.default=f}).call(this,r(380))},6666:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uiKitReducer=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},n=r(558),u=r(446),i=r(996),o=t.uiKitReducer=(0,n.createReducer)({},[[[(0,u.withFulfilledType)(i.FETCH_UI_KIT)],function(e,t){var r=t.payload.uiKit;return a({},e,r)}]]);t.default=o},6667:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.viewsReducer=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},n=r(558),u=r(446),i=r(1239),o=r(459);var l=t.viewsReducer=(0,n.createReducer)({},[[[(0,u.withFulfilledType)(i.FETCH_VIEW)],function(e,t){var r,n,u,i=t.payload.viewRef;return a({},e,(u=!0,(n=i)in(r={})?Object.defineProperty(r,n,{value:u,enumerable:!0,configurable:!0,writable:!0}):r[n]=u,r))}],[[(0,u.withFulfilledType)(o.FETCH_BLOCKS)],function(e,t){var r=t.payload.blocks,n=Object.values(r).reduce(function(e,t){t&&(e[t.viewRef]=!0);return e},{});return a({},e,n)}]]);t.default=l},6668:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.websiteReducer=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},n=r(558),u=r(446),i=r(555),o=r(613),l=t.websiteReducer=(0,n.createReducer)({},[[[(0,u.withFulfilledType)(i.FETCH_WEBSITE)],function(e,t){return t.payload}],[[(0,u.withFulfilledType)(i.CHANGE_CURRENT_PRESET)],function(e,t){var r=t.payload.uikitPalette;return a({},e,{uikitPalette:r})}],[[(0,u.withFulfilledType)(i.CHANGE_CURRENT_TYPOGRAPHY)],function(e,t){var r=t.payload.uikitTypography;return a({},e,{uikitTypography:r})}],[[(0,u.withFulfilledType)(i.CHANGE_CURRENT_BUTTON_PRESET)],function(e,t){var r=t.payload.uikitButton;return a({},e,{uikitButton:r})}],[[(0,u.withFulfilledType)(i.CHANGE_PALETTE_COLORS)],function(e,t){var r=t.payload.color;return a({},e,{uikitPalette:a({},e.uikitPalette,{color:r})})}],[[(0,u.withFulfilledType)(i.CHANGE_TYPOGRAPHY_SETTINGS)],function(e,t){var r=t.payload.typography;return a({},e,{uikitTypography:r})}],[[(0,u.withFulfilledType)(i.CHANGE_TYPOGRAPHY_SUBSETS)],function(e,t){var r=t.payload.subsets;return a({},e,{uikitTypography:a({},e.uikitTypography,{subsets:r})})}],[[(0,u.withFulfilledType)(i.CHANGE_TYPOGRAPHY_PRERENDER)],function(e,t){var r=t.payload.prerenderDisabled;return a({},e,{uikitTypography:a({},e.uikitTypography,{prerenderDisabled:r})})}],[[(0,u.withFulfilledType)(i.CHANGE_BUTTON_SETTINGS)],function(e,t){var r=t.payload.button;return a({},e,{uikitButton:r})}],[[(0,u.withFulfilledType)(i.SET_WEBSITE_RENDER)],function(e,t){var r=t.payload.render;return a({},e,{render:r})}],[[(0,u.withFulfilledType)(i.SET_WEBSITE_PUBLISHED_DOMAINS)],function(e,t){var r=t.payload.domains;return a({},e,{publishedDomains:r})}],[[o.EXTERNAL_UIKIT_UPDATE],function(e,t){var r=t.payload;return a({},e,r)}],[[(0,u.withFulfilledType)(i.UPDATE_WEBSITE)],function(e,t){var r=t.payload;return a({},e,r)}],[[i.CLEAN_WEBSITE],function(){return{}}]]);t.default=l},6669:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.themesReducer=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},n=r(558),u=r(446),i=r(1030),o=r(514);var l=(0,n.createReducer)(null,[[[(0,u.withFulfilledType)(i.FETCH_CORE_THEME)],function(e,t){return t.payload.theme}]]),d=(0,n.createReducer)({},[[[(0,u.withFulfilledType)(i.FETCH_PUBLIC_THEMES)],function(e,t){return t.payload.themes}]]),c=(0,n.createReducer)(null,[[[(0,u.withFulfilledType)(i.FETCH_WEBSITE_THEME),(0,u.withFulfilledType)(i.USE_PUBLIC_THEME)],function(e,t){return t.payload.theme}],[[(0,u.withFulfilledType)(i.REMOVE_THEME)],function(t,r){var a=r.payload.id;return e.get("id",t)===a?null:t}],[[(0,u.withFulfilledType)(i.UPDATE_THEME_TO_SOURCE)],function(t,r){var a=r.payload;return t.id===a.id?e.assign(t,a):t}]]),f=(0,n.createReducer)({},[[[(0,u.withFulfilledType)(i.FETCH_THEME_RENDERER)],function(e,t){var r,n,u,i=t.payload.viewRef;return a({},e,(u=!0,(n=i)in(r={})?Object.defineProperty(r,n,{value:u,enumerable:!0,configurable:!0,writable:!0}):r[n]=u,r))}]]),p=t.themesReducer=(0,o.combineReducers)({coreTheme:l,publicThemes:d,websiteTheme:c,renderers:f});t.default=p}).call(this,r(380))},6670:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.typeReducer=void 0;var a=r(558),n=t.typeReducer=(0,a.createReducer)(null,[[["START"],function(e,t){return t.builderType||"website"}]]);t.default=n},6671:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},n=r(558),u=r(446),i=r(1029),o=r(613),l=r(459),d=r(494);function c(e,t){var r={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a]);return r}function f(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var p=(0,n.createReducer)([],[[[o.EXTERNAL_PAGE_REMOVE,d.REMOVE_PAGE],function(t,r){var a=r.payload.pageId||r.payload.id;return t.filter(function(t){var r=e.get("location.page")(t);return a!==r})}],[[o.EXTERNAL_BLOCK_UPDATE,(0,u.withFulfilledType)(l.UPDATE_BLOCK)],function(t,r){var a=r.payload,n=a.id,u=a.block;return t.map(function(t){return e.get("location.block.ref._id")(t)===n?e.update("location.block.ref.roles",function(){return u.roles})(t):t})}],[[o.EXTERNAL_BLOCK_REMOVE,l.REMOVE_BLOCK],function(t,r){var a=r.payload.id;return t.map(function(t){return e.get("location.block.ref._id")(t)===a?e.update("location.block.ref.roles",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[].concat(f(e),["removed"])})(t):t})}],[[(0,u.withFulfilledType)(i.FETCH_COMMENTS)],function(e,t){return t.payload.comments}],[[(0,u.withFulfilledType)(i.RESOLVE_COMMENT)],function(e,t){var r=t.payload.id;return e.map(function(e){e.active;var t=c(e,["active"]);return t.id===r?a({},t,{resolved:!0}):t})}],[[(0,u.withFulfilledType)(i.UNRESOLVE_COMMENT)],function(e,t){var r=t.payload.id;return e.map(function(e){return e.id===r?a({},e,{resolved:!1}):e})}],[[(0,u.withFulfilledType)(i.UPDATE_COMMENT),o.EXTERNAL_COMMENT_UPDATE],function(e,t){var r=t.payload,n=r.id,u=r.comment,i=r.newId;return e.map(function(e){return e.id===n?a({},u,i?{id:i}:{active:e.active}):e})}],[[(0,u.withFulfilledType)(i.ADD_AND_POST_COMMENT)],function(e,t){var r=t.payload,n=r.comment,u=r.commentToPost,i=r.tempId,o=e.map(function(e){if(e.id===i){u.inProgress;var t=c(u,["inProgress"]);return a({},t,{text:u.text,owned:!0})}return e});return[].concat(f(o.filter(function(e){return!e.inProgress})),[a({},n,{inProgress:!0})])}],[[i.ADD_COMMENT],function(t,r){var n=r.payload.comment,u=t.filter(function(e){return!e.inProgress}).map(e.omit(["active"]));return[].concat(f(u),[a({},n,{inProgress:!0})])}],[[o.EXTERNAL_COMMENT_ADD],function(e,t){var r=t.payload.comment;return[].concat(f(e),[r])}],[[(0,u.withFulfilledType)(i.ADD_COMMENT_CONFIRM)],function(t,r){var n=r.payload,u=n.comment,i=n.tempId;return i?t.map(function(t){if(t.id===i){u.inProgress;var r=c(u,["inProgress"]);return a({},r,{owned:!0})}return e.omit("active")(t)}):[].concat(f(t),[a({},u,{owned:!0})])}],[[(0,u.withRejectType)(i.ADD_COMMENT_CONFIRM)],function(e,t){var r=t.payload.tempId;return e.filter(function(e){return e.id!==r})}],[[i.ADD_COMMENT_CANCEL,(0,u.withFulfilledType)(i.REMOVE_COMMENT),o.EXTERNAL_COMMENT_REMOVE],function(e,t){var r=t.payload.ids,a=Array.isArray(r)?r:[r];return e.filter(function(e){return!a.includes(e.id)})}],[[i.SELECT_COMMENT],function(t,r){var n=r.payload.id;return t.filter(function(e){return!e.inProgress||n===e.id}).map(function(t){return t.id===n?a({},t,{active:!0}):e.omit("active")(t)})}]]);t.default=p}).call(this,r(380))},6672:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.viewsReducer=void 0;var a=r(558),n=r(446),u=r(1270),i=t.viewsReducer=(0,a.createReducer)({},[[[(0,n.withFulfilledType)(u.FETCH_ORGANIZATION)],function(e,t){return t.payload}]]);t.default=i}}]);